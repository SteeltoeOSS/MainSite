@inject NavigationManager NavigationManager
@inject IOptionsSnapshot<DocsSiteOptions> DocsSiteOptions

@page "/doc"
@page "/docs"

@page "/{Component}"
@page "/{Component}/{Area}"
@page "/{Component}/docs"
@page "/docs/{Component}"
@page "/docs/{Component}/{Area}"

@page "/docs/{Version:int}"
@page "/docs/{Version:int}/{Component}"
@page "/docs/{Version:int}/{Component}/{Area}"
Redirecting to new docs site, please hold.

@code
{
    private int _version;
    private const int CurrentVersion = 3;
    private const string DefaultComponent = "welcome";

    [Parameter] public string Area { get; set; } = "index";

    [Parameter] public string Component { get; set; } = DefaultComponent;

    [Parameter]
    public int Version
    {
        get => _version;
        set => _version = value is < 2 or > 3 ? CurrentVersion : value;
    }

    protected override void OnParametersSet()
    {
        NavigationManager.NavigateTo($"{DocsSiteOptions.Value.BaseAddress}/api/v{Version}/{Component}/{Area}.html", true);
    }
}
