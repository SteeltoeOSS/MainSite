@inject NavigationManager NavigationManager
@inject IOptionsSnapshot<DocsSiteOptions> DocsSiteOptions

@page "/blog"
@page "/blogs"
@page "/blog/{ArticleName}"
@page "/blog/{Area}/{ArticleName}"
Redirecting to new docs site, please hold.

@code {

    private string _area;
    private const string DefaultArea = "index";
    private DocsSiteOptions _docsSite;

    [Parameter]
    public string ArticleName { get; set; }

    [Parameter]
    public string Area
    {
        get => _area ?? DefaultArea;
        set => _area = value;
    }

    protected override void OnInitialized()
    {

        _docsSite = DocsSiteOptions?.Value ?? throw new ArgumentNullException(nameof(_docsSite));
    }

    protected override void OnParametersSet()
    {
        if (!string.IsNullOrEmpty(Area))
        {
            NavigationManager.NavigateTo($"{_docsSite.BaseAddress}/articles/{Area}/{ArticleName}.html", false);
            return;
        }

        NavigationManager.NavigateTo($"{_docsSite.BaseAddress}/articles/{ArticleName}.html", false);
        return;
    }
}
